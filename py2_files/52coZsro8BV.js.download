if (self.CavalryLogger) { CavalryLogger.start_js(["G7oRo"]); }

__d("StoriesReactionStickerMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"ReactStoryCardReactionStickerData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"react_story_card_reaction_sticker",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"ReactStoryCardReactionStickerResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"story_card_reaction_sticker",storageKey:null,args:null,concreteType:"StoryCardReactionSticker",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"StoriesReactionStickerMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"StoriesReactionStickerMutation",argumentDefinitions:a,selections:b},params:{operationKind:"mutation",name:"StoriesReactionStickerMutation",id:"2107432889344441",text:null,metadata:{}}}}();e.exports=a}),null);
__d("StoriesReactionSticker_overlay$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"x",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"y",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null};return{kind:"SplitOperation",name:"StoriesReactionSticker_overlay$normalization",metadata:{derivedFrom:"StoriesReactionSticker_overlay"},selections:[{kind:"LinkedField",alias:null,name:"reaction_sticker",storageKey:null,args:null,concreteType:"StoryCardReactionSticker",plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"sticker_asset",storageKey:null,args:null,concreteType:"InspirationsStickerImageAsset",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"sticker_animation_assets",storageKey:null,args:null,concreteType:"InspirationsStickerAnimationAssetWithType",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"asset",storageKey:null,args:null,concreteType:"InspirationsStickerAnimationAsset",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"keyframe_uri",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"initial_state_bounds",storageKey:null,args:null,concreteType:"StoryOverlayRectangle",plural:!1,selections:[b,c,d,e]},a]}]},a]}]},{kind:"LinkedField",alias:null,name:"bounds",storageKey:null,args:null,concreteType:"StoryOverlayRectangle",plural:!1,selections:[e,b,c,d,{kind:"ScalarField",alias:null,name:"rotation",args:null,storageKey:null}]}]}}();e.exports=a}),null);
__d("StoriesReactionSticker_overlay.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"StoriesReactionSticker_overlay",type:"StoryOverlayReactionSticker",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"reaction_sticker",storageKey:null,args:null,concreteType:"StoryCardReactionSticker",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"bounds",storageKey:null,args:null,concreteType:"StoryOverlayRectangle",plural:!1,selections:[{kind:"FragmentSpread",name:"StoriesCardOverlayPositioner_bounds",args:null}]},{kind:"FragmentSpread",name:"ReactionStickerKeyframe_overlay",args:null}]};e.exports=a}),null);
__d("ReactionStickerKeyframe_overlay.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"x",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"y",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null};return{kind:"Fragment",name:"ReactionStickerKeyframe_overlay",type:"StoryOverlayReactionSticker",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"reaction_sticker",storageKey:null,args:null,concreteType:"StoryCardReactionSticker",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"sticker_asset",storageKey:null,args:null,concreteType:"InspirationsStickerImageAsset",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"sticker_animation_assets",storageKey:null,args:null,concreteType:"InspirationsStickerAnimationAssetWithType",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"asset",storageKey:null,args:null,concreteType:"InspirationsStickerAnimationAsset",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"keyframe_uri",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"initial_state_bounds",storageKey:null,args:null,concreteType:"StoryOverlayRectangle",plural:!1,selections:[a,b,c,d]}]}]}]}]},{kind:"LinkedField",alias:null,name:"bounds",storageKey:null,args:null,concreteType:"StoryOverlayRectangle",plural:!1,selections:[d,a,b,c]}]}}();e.exports=a}),null);
__d("StoriesCardOptionMenuTrigger.react",["ix","fbt","requireDeferred","CometDeferredPopoverTrigger.react","React","StoriesEnums","StoriesPauseReasons","StoriesRelay","StoriesViewerMenuButton.react","TetraIcon.react","fbicon","StoriesCardOptionMenuTrigger_card.graphql","StoriesCardOptionMenuTrigger_owner.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("requireDeferred")("StoriesCardOptionMenu.react");b("StoriesEnums").STORIES_OPTION_TYPES;a=b("StoriesRelay").createFragmentContainer;b("StoriesRelay").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.props.setPause(!1,b("StoriesPauseReasons").CONFIRMATION_DIALOG)},d.$2=function(a){d.props.setPause(!0,b("StoriesPauseReasons").CONFIRMATION_DIALOG)},d.$3=function(a){d.props.setPause(a,b("StoriesPauseReasons").MENU)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a;a=(a=this.props.card)==null?void 0:a.id;return b("React").jsx("div",{children:b("React").jsx(b("CometDeferredPopoverTrigger.react"),{align:"end",onVisibilityChange:this.$3,popoverProps:babelHelpers["extends"]({},this.props,{onHideOptionConfirmationDialog:this.$1,onShowOptionConfirmationDialog:this.$2}),popoverResource:i,position:"below",children:function(a,c){return b("React").jsx(b("StoriesViewerMenuButton.react"),{icon:b("React").jsx(b("TetraIcon.react"),{color:"white",icon:b("fbicon")._(g("816818"),24),size:24}),label:h._("Menu button"),onClick:c,ref:a,testid:"viewer_option_menu_button"})}})},a)};return c}(b("React").PureComponent);e.exports=a(c,{card:function(){return b("StoriesCardOptionMenuTrigger_card.graphql")},owner:function(){return b("StoriesCardOptionMenuTrigger_owner.graphql")}})}),null);
__d("StoriesViewerContext",["React"],(function(a,b,c,d,e,f){"use strict";a={bucketID:"",bucketIndex:0,cardID:"",cardIndex:-1,direction:"next",isLastBucket:!0,isPaused:!1,isRefetching:!0};e.exports=b("React").createContext(a)}),null);
__d("contuxConnect",["React","StoriesViewerContext","withSomeContext"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=function(a){return c.reduce(function(b,c){b[c]=a[c];return b},{})};return b("withSomeContext")(a,b("StoriesViewerContext"),d)}e.exports=a}),null);
__d("StoriesCardMedia.react",["fbt","CometErrorBoundary.react","QuickPerformanceLogger","React","StoriesActionsContext","StoriesCardComposerFormat.react","StoriesCardMediaLoadingBackground.react","StoriesCardPhotoMedia.react","StoriesCardTimerSourceAutoProgression","StoriesCardVideoMedia.react","StoriesEnums","StoriesLoggerContext","StoriesRelay","contuxConnect","gkx","usePrevious","StoriesCardMedia_media.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=(c=b("React")).useCallback,i=c.useContext,j=c.useEffect,k=c.useRef,l=c.useState,m=b("StoriesEnums").STORY_MEDIA_TYPES;d=b("StoriesRelay").createFragmentContainer;b("StoriesRelay").graphql;var n=new Set(Object.values(m));function o(){var a;(a=b("QuickPerformanceLogger")).markerEnd(13238353,2);a.markerEnd(13238354,2);a.markerEnd(13238356,2);a.markerEnd(13238374,2)}function a(a){__p&&__p();var c,d,e=a.onOpenMediaLogged,f=a.onTimerSourceUpdate,p=a.media,q=a.isMuted;a=a.isPaused;var r=i(b("StoriesLoggerContext")),s=r.logger;r=i(b("StoriesActionsContext"));r=r.actions;var t=l(!1),u=t[0],v=t[1],w=k(!1),x=p==null?void 0:(t=p.attachments)==null?void 0:(t=t[0])==null?void 0:t.media,y=b("usePrevious")(x),z=h(function(a){f&&f(a),v(!0)},[f,v]);t=h(function(){b("QuickPerformanceLogger").markerPoint(13238353,"image loaded"),o(),z(new(b("StoriesCardTimerSourceAutoProgression"))())},[z]);var A=h(function(){b("QuickPerformanceLogger").markerPoint(13238353,"video loaded"),o()},[]);c=((p==null?void 0:p.link_attachment)&&(p==null?void 0:(c=p.link_attachment)==null?void 0:(c=c[0])==null?void 0:c.url))!=null;d=(p==null?void 0:(d=p.message)==null?void 0:d.text)!=null;var B=function(){var a;(a=b("QuickPerformanceLogger")).markerEnd(13238353,3);a.markerEnd(13238354,3);a.markerEnd(13238356,3);a.markerEnd(13238374,3);return g._("Error while rendering media")};j(function(){y!==x&&w.current===!1&&(s!=null&&x!=null&&(s.openMediaLog(),w.current=!0,e&&e()))});var C=((p==null?void 0:p.attachments)||[]).filter(function(a){return n.has((a=a.media)==null?void 0:a.__typename)});C=C==null?void 0:(C=C[0])==null?void 0:C.media;var D=C==null?void 0:C.__typename;if(!p||!C)return null;var E=null;d=d&&b("gkx")("819876");u=!u&&!d;d&&!c?E=b("React").jsx(b("StoriesCardComposerFormat.react"),{defaultBackground:p.story_default_background,message:p.message,onImageLoad:t,setPause:r.setPause,story:p,textFormatMetaData:p.text_format_metadata}):D===m.PHOTO?E=b("React").jsx(b("StoriesCardPhotoMedia.react"),{onImageLoad:t,photo:C,story:p}):D===m.VIDEO&&(E=b("React").jsx(b("StoriesCardVideoMedia.react"),{isMuted:q,isPaused:a,onTimerSourceUpdate:z,onVideoLoaded:A,setPause:r.setPause,video:C}));return b("React").jsxs(b("CometErrorBoundary.react"),{fallback:B,children:[E,u&&b("React").jsx(b("StoriesCardMediaLoadingBackground.react"),{story:p})]})}e.exports=d(b("contuxConnect")(a,["isPaused"]),{media:function(){return b("StoriesCardMedia_media.graphql")}})}),null);
__d("ReactionStickerKeyframe.react",["Keyframes.react","React","StoriesRelay","emptyFunction","stylex","ReactionStickerKeyframe_overlay.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("StoriesRelay").createFragmentContainer;b("StoriesRelay").graphql;function a(a){__p&&__p();var c,d,e=function(g){__p&&__p();var h,l={height:0,key:"",keyframe_uri:"",onRepeatEnd:b("emptyFunction"),repeatCount:1,type:"AFFORDANCE",width:0,x:0,y:0};h=(h=a.overlay)==null?void 0:(h=h.reaction_sticker)==null?void 0:(h=h.sticker_asset)==null?void 0:h.sticker_animation_assets;if(!h)return null;h=(h=h.find(function(a){return g===a.type}))==null?void 0:h.asset;if(!h)return null;h=h;var f=h.keyframe_uri;h=h.initial_state_bounds;if(!h)return null;var c=h.height,d=h.width,e=h.x;h=h.y;if(typeof d!=="number"||typeof c!=="number"||typeof e!=="number"||typeof h!=="number"||typeof f!=="string")return null;l.width=d;l.height=c;l.x=e;l.y=h;l.keyframe_uri=f;l.key=a.uniqueKey;l.type=a.type;g==="TAP"&&(l.repeatCount=1,l.onRepeatEnd=function(){a.tapOnReaptEnd(a.uniqueKey)});g==="AFFORDANCE"&&(l.repeatCount=Infinity,l.onRepeatEnd=b("emptyFunction"));return l};e=e(a.type);if(!e)return null;var f=e.key,g=e.onRepeatEnd,h=e.repeatCount,i=e.height,j=e.width,k=e.x,l=e.y,m=e.keyframe_uri,n=a.containerHeight,o=a.containerWidth,p=a.overlay;c=p==null?void 0:(c=p.bounds)==null?void 0:c.width;d=p==null?void 0:(d=p.bounds)==null?void 0:d.height;if(p==null||typeof c!=="number"||typeof d!=="number")return null;p=c*o;var q=d*n;n=n*d/q;d=o*c/p;o=q/i;c=p/j;q={left:"-"+k*c+"px",position:"absolute",top:"-"+l*o+"px",transform:"scaleY("+n+") scaleX("+d+")"};return b("React").jsx(b("Keyframes.react"),{assetName:"reaction_sticker",className:e.type==="TAP"?"pmk7jnqg hzruof5a":"",height:o,onRepeatEnd:g,projectName:"facebook_stories",repeatCount:h,source:m,style:q,width:c},f)}e.exports=c(a,{overlay:function(){return b("ReactionStickerKeyframe_overlay.graphql")}})}),null);
__d("StoriesReactionSticker.react",["FBLogger","React","ReactionStickerKeyframe.react","StoriesCardOverlayPositioner.react","StoriesEnums","StoriesPauseReasons","StoriesRelay","StoriesUniqueID","stylex","StoriesReactionStickerMutation.graphql","StoriesReactionSticker_overlay.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useRef,h=b("React").useState,i=b("StoriesEnums").STORY_REACTION_STICKERS_CONSTANTS,j=(c=b("StoriesRelay")).commitMutation;c.graphql;var k=c.useRelayEnvironment;d=c.createFragmentContainer;function l(a,b){var c=Date.now();return function(){c+b-Date.now()<0&&(a(),c=Date.now())}}function a(a){__p&&__p();var c=k(),d=h([{key:"",type:"AFFORDANCE"}]),e=d[0],f=d[1],n=g(null),o=g(null),p=g(0);d=l(function(){a.setPause(!0,b("StoriesPauseReasons").CLICK_ON_OVERLAY_STICKER),p.current+=1,u(),s(),n.current=window.setTimeout(function(){r()},i.HOLD_DELAY)},i.ANIMATIONS_INTERVAL_THROTTLE);var q=function(c){f(function(d){d=d.filter(function(a){return a.key!==c});d.length<2&&a.setPause(!1,b("StoriesPauseReasons").CLICK_ON_OVERLAY_STICKER);return d})},r=function a(){p.current+=1,u(),o.current=window.setTimeout(function(){s(),a()},i.ANIMATIONS_INTERVAL_THROTTLE)},s=function(){f(function(a){return[].concat(a,[{key:b("StoriesUniqueID")(),type:"TAP"}])})},t=function(){window.clearTimeout(n.current),window.clearTimeout(o.current)},u=function(){var d;d=(d=a.overlay)==null?void 0:(d=d.reaction_sticker)==null?void 0:d.id;var e=a.logger;if(d===null)return;j(c,{mutation:m,onCompleted:function(a,b){e.replyAttemptCompletedLog("reaction_sticker_react",b==null?null:b[0])},onError:function(a){e.replyAttemptCompletedLog("reaction_sticker_react",a),b("FBLogger")("fbstories").catching(a).warn("Error interacting reaction stickers. ")},variables:{input:{client_mutation_id:b("StoriesUniqueID")(),count:p.current,story_card_reaction_sticker_id:d}}})},v=a.containerHeight,w=a.containerWidth,x=a.overlay,y=x==null?void 0:x.bounds;return y==null?null:b("React").jsx(b("StoriesCardOverlayPositioner.react"),{bounds:y,containerHeight:v,containerWidth:w,children:b("React").jsx("div",{className:"k4urcfbm fi2e5rcv pmk7jnqg oqq733wu datstx6m nhd2j8a9",onMouseDown:d,onMouseLeave:t,onMouseUp:t,children:e.map(function(a,c){return b("React").jsx(b("ReactionStickerKeyframe.react"),{containerHeight:v,containerWidth:w,overlay:x,tapOnReaptEnd:q,type:a.type,uniqueKey:a.key},a.key)})})})}var m=function(){return b("StoriesReactionStickerMutation.graphql")};e.exports=d(a,{overlay:function(){return b("StoriesReactionSticker_overlay.graphql")}})}),null);
__d("StoriesCardOverlays.react",["React","StoriesActionsContext","StoriesCardOverlayExternalSong.react","StoriesCardOverlayResharedPost.react","StoriesEnums","StoriesGating","StoriesLoggerContext","StoriesPollSticker.react","StoriesRatingStickerRoot.react","StoriesReactionSticker.react","StoriesRelay","StoriesTagSticker.react","contuxConnect","gkx","useStoriesOverlayPositions","stylex","StoriesCardOverlays_overlayInfo.graphql","StoriesCardOverlays_owner.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useContext,h=b("StoriesEnums").POLL_STICKER,i=b("StoriesEnums").STORY_OVERLAY_TYPES;c=b("StoriesRelay").createFragmentContainer;b("StoriesRelay").graphql;function a(a){__p&&__p();var c=a.overlayInfo,d=a.owner,e=a.cardID;a=c==null?void 0:(a=c.attachments)==null?void 0:(a=a[0])==null?void 0:(a=a.media)==null?void 0:a.image;var f=a==null?void 0:a.height,j=a==null?void 0:a.width,k=g(b("StoriesActionsContext")),l=k.actions;k=g(b("StoriesLoggerContext"));var m=k.logger;k=b("useStoriesOverlayPositions")(f,j);j=c==null?void 0:(f=c.story_overlays)==null?void 0:f.length;if(c==null||j==null||j===0)return null;if(a==null||k==null)return null;var n=k.mediaHeight;f=k.mediaLeft;j=k.mediaTop;var o=k.mediaWidth,p=b("StoriesGating").isInteractiveStickersEnabled(),q=b("StoriesGating").isPollStickersEnabled(),r=b("StoriesGating").isTagStickersEnabled(),s=b("StoriesGating").isRatingStickersEnabled(),t=b("StoriesGating").isSongStickersEnabled();a={height:n+"px",left:f+"px",top:j+"px",width:o+"px"};return b("React").jsx("div",{className:"k4urcfbm kr520xx4 j9ispegn pmk7jnqg hzruof5a datstx6m",children:b("React").jsx("div",{className:"pmk7jnqg",style:a,children:c.story_overlays.map(function(a,f){__p&&__p();switch(a.__typename){case i.RESHARED_POST:return b("gkx")("821827")?b("React").jsx(b("StoriesCardOverlayResharedPost.react"),{cardID:e,containerHeight:n,containerWidth:o,overlay:a,setPause:l.setPause},"story_overlay"+f):null;case i.INTERACTIVE_STICKER:if(p)return b("React").jsx(b("StoriesReactionSticker.react"),{containerHeight:n,containerWidth:o,logger:m,overlay:a,setPause:l.setPause},"story_overlay_"+f);else return null;case i.POLL_STICKER:var g=a.style;if(g===h.FIVE_OPTION_STAR_RATING&&s)return b("React").jsx(b("StoriesRatingStickerRoot.react"),{cardID:e,containerHeight:n,containerWidth:o,overlay:a,owner:d,setPause:l.setPause,story:c},"story_overlay_"+f);else if((g===h.IG_TWO_OPTION_COMBINED||g===h.TWO_OPTION_COMBINED)&&q)return b("React").jsx(b("StoriesPollSticker.react"),{cardID:e,containerHeight:n,containerWidth:o,overlay:a,owner:d,setPause:l.setPause,story:c},"story_overlay_"+f);else return null;case i.TAG_STICKER:if(r)return b("React").jsx(b("StoriesTagSticker.react"),{containerHeight:n,containerWidth:o,overlay:a,setPause:l.setPause},"story_overlay_"+f);else return null;case i.EXTERNAL_SONG:if(t)return b("React").jsx(b("StoriesCardOverlayExternalSong.react"),{overlay:a,setPause:l.setPause},"story_overlay_"+f);else return null;default:return null}})})})}e.exports=c(b("contuxConnect")(a,["cardID"]),{overlayInfo:function(){return b("StoriesCardOverlays_overlayInfo.graphql")},owner:function(){return b("StoriesCardOverlays_owner.graphql")}})}),null);
__d("StoriesCardView.react",["requireCond","React","StoriesActionsContext","StoriesCardFooter.react","StoriesCardHeader.react","StoriesCardMedia.react","StoriesCardOverlays.react","StoriesCardReactionPlaybackLayout.react","StoriesLoggerContext","StoriesRelay","cr:956987","mergeRefs","usePrevious","cr:1075037","stylex","StoriesCardView_animations.graphql","StoriesCardView_card.graphql","StoriesCardView_owner.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useContext,h=b("React").useEffect,i=b("React").useRef;b("StoriesRelay").graphql;var j=b("StoriesRelay").useRelayEnvironment;c=b("StoriesRelay").createFragmentContainer;function a(a){__p&&__p();var c=a.onTimerSourceUpdate,d=a.isMuted,e=a.owner,f=a.card,k=a.animations;a=a.isSelfStory;a=a===void 0?!1:a;var l=f==null?void 0:f.id,m=j(),n=i(null),o=b("usePrevious")(l),p=g(b("StoriesLoggerContext"));p=p.logger;var q=g(b("StoriesActionsContext")),r=q.actions;q=b("cr:1075037")();q=b("mergeRefs")(q,n);h(function(){o!==l&&r.markCurrentCardAsSeen(m)},[r,l,m,o]);if(f===null||f===void 0)return null;n=p.getImpressionConfig();return b("React").createElement("div",babelHelpers["extends"]({},n,{className:"k4urcfbm l9j0dhe7 taijpn5t datstx6m j83agx80 bp9cbjyn","data-id":f.id,key:f.id,ref:q}),l!=null&&b("cr:956987")&&b("React").jsx(b("cr:956987"),{cardID:l}),b("React").jsx(b("StoriesCardMedia.react"),{isMuted:d,media:f,onTimerSourceUpdate:c}),b("React").jsx(b("StoriesCardOverlays.react"),{overlayInfo:f,owner:e}),b("React").jsx(b("StoriesCardHeader.react"),{card:f,owner:e}),b("React").jsx(b("StoriesCardFooter.react"),{card:f,owner:e}),a&&b("React").jsx(b("StoriesCardReactionPlaybackLayout.react"),{animations:k,card:f}))}e.exports=c(a,{animations:function(){return b("StoriesCardView_animations.graphql")},card:function(){return b("StoriesCardView_card.graphql")},owner:function(){return b("StoriesCardView_owner.graphql")}})}),null);
__d("CardSwap.react",["CometPlaceholder.react","React","StoriesBucketContainer.react","StoriesGating","addTransitionEndListener","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=300;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={animating:!1,fromID:null,toID:c.props.id},c.$4=function(){if(!c.state.animating)return;c.setState({animating:!1,fromID:null});c.transitionRemoveListener&&c.transitionRemoveListener();c.transitionRemoveListener=null;c.props.onTransitionEnd&&c.props.onTransitionEnd()},c.$3=null,b)||babelHelpers.assertThisInitialized(c)}c.getDerivedStateFromProps=function(a,b){return b.toID!==a.id?{animating:!1,fromID:b.toID,toID:a.id}:null};var d=c.prototype;d.componentDidMount=function(){this.activeSlideRef&&(this.$1(),this.$2(this.activeSlideRef))};d.componentDidUpdate=function(a,b){var c=this;!this.state.animating&&b.toID!==this.state.toID&&(window.cancelAnimationFrame(this.$3),this.$1(),this.$3=window.requestAnimationFrame(function(){c.setState(function(a,b){return{animating:!0}}),c.state.fromID!==null&&(c.props.onTransitionBegin&&c.props.onTransitionBegin())}));if(this.lastSlideRef){a=this.lastSlideRef.querySelectorAll("[data-xt-vimp]");for(var b=0;b<a.length;b++)a[b].removeAttribute("data-xt-vimp")}};d.componentWillUnmount=function(){window.cancelAnimationFrame(this.$3),this.transitionRemoveListener&&(this.props.onTransitionEnd&&this.props.onTransitionEnd())};d.getSnapshotBeforeUpdate=function(a,b){!this.state.animating&&b.toID!==this.state.toID&&this.$2(this.activeSlideRef);return null};d.$2=function(a){var c=b("StoriesGating").shouldUseNewBucketTransitionAnimation();if(c)return;if(a){c=a.children[0];this.lastSlide=c?c.cloneNode(!0):null}};d.$1=function(){this.activeSlideRef&&(this.transitionRemoveListener&&this.transitionRemoveListener(),this.transitionRemoveListener=b("addTransitionEndListener")(this.activeSlideRef,this.$4))};d.render=function(){__p&&__p();var a=this,c=this.props,d=c.direction,e=c.slide;c=c.duration;var f=b("StoriesGating").shouldUseNewBucketTransitionAnimation(),h,i;this.state.fromID===null||this.state.toID===null?(h="p1z4y1cs k4urcfbm kr520xx4 j9ispegn pmk7jnqg ggxiycxj hihg3u9x datstx6m n7fi1qx3 i09qtzwb agkhgkm8 pedkr2u6",i="mkhogb32"):!this.state.animating?(i="p1z4y1cs k4urcfbm kr520xx4 j9ispegn pmk7jnqg ggxiycxj hihg3u9x datstx6m n7fi1qx3 i09qtzwb agkhgkm8 pedkr2u6",h=d==="next"?"p1z4y1cs k4urcfbm kr520xx4 j9ispegn pmk7jnqg ggxiycxj hihg3u9x datstx6m n7fi1qx3 i09qtzwb gdny1k8l b5wmifdl":"p1z4y1cs k4urcfbm kr520xx4 j9ispegn pmk7jnqg ggxiycxj hihg3u9x datstx6m n7fi1qx3 i09qtzwb nyllqdpa b5wmifdl"):(i=d==="next"?"p1z4y1cs k4urcfbm kr520xx4 j9ispegn pmk7jnqg ggxiycxj hihg3u9x datstx6m n7fi1qx3 i09qtzwb nyllqdpa b5wmifdl":"p1z4y1cs k4urcfbm kr520xx4 j9ispegn pmk7jnqg ggxiycxj hihg3u9x datstx6m n7fi1qx3 i09qtzwb gdny1k8l b5wmifdl",h="p1z4y1cs k4urcfbm kr520xx4 j9ispegn pmk7jnqg ggxiycxj hihg3u9x datstx6m n7fi1qx3 i09qtzwb agkhgkm8 pedkr2u6");d=c!=null?c:g;c=this.state.animating?{transition:["opacity "+d+"ms  ease","transform "+d+"ms  ease"].join(", ")}:{transition:"none"};d=b("React").jsx("div",{className:h,ref:function(b){return a.activeSlideRef=b},style:c,children:e});h=null;if(!f){e=this.lastSlide?this.lastSlide.outerHTML:null;h=e!==""&&e!=null?b("React").jsx("div",{className:i,dangerouslySetInnerHTML:{__html:e},ref:function(b){return a.lastSlideRef=b},style:c}):null}return b("React").jsxs("div",{className:"k4urcfbm l9j0dhe7 stjgntxs ni8dbmo4 datstx6m",children:[h,d]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("StoriesBucketTransitionView.react",["CardSwap.react","CometPlaceholder.react","React","StoriesConstants","StoriesEnums","stylex","useStoriesViewerDimensions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("StoriesConstants").TRANSITION_DURATION_MS,h=b("StoriesEnums").NAV_DIRECTIONS;function a(a){var c=a.onTransitionBegin,d=a.onTransitionEnd,e=a.direction;e=e===void 0?h.NEXT_CARD:e;var f=a.children;a=a.bucketID;var i=b("useStoriesViewerDimensions")();return b("React").jsx("div",{className:"dzlist6r msbwk0y7 pnx7fd3z ms05siws l9j0dhe7 stjgntxs ni8dbmo4 puxov6c6 r893ighp n1l5q3vz n851cfcs btwxx1t3 j83agx80 ptt86dso g5ia77u1",style:i,children:b("React").jsx(b("CardSwap.react"),{direction:e===h.NEXT_BUCKET?"next":"prev",duration:g,id:a,onTransitionBegin:c,onTransitionEnd:d,slide:f})})}e.exports=a}),null);
__d("StoriesDelayUnmountingElement.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.$5=null,c.$4=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidUpdate=function(a){var b=this;a.shouldMount&&!this.props.shouldMount&&(this.$1=window.setTimeout(function(){return b.$2()},this.props.delayTime))};d.componentWillUnmount=function(){this.$3()};d.getSnapshotBeforeUpdate=function(a){if(a.shouldMount&&!this.props.shouldMount){if(this.$4){var b;b=(b=this.$4.children)==null?void 0:b[0];b&&(this.$5=b.cloneNode(!0),b.parentNode&&(b.parentNode.insertBefore(this.$5,b),b.hidden=!0))}}else!a.shouldMount&&this.props.shouldMount&&this.$3();return null};d.$3=function(){this.$2(),this.$1!=null&&(window.clearTimeout(this.$1),delete this.$1)};d.$2=function(){var a=this.$5;a&&a.parentNode&&a.parentNode.removeChild(a);delete this.$5};d.render=function(){var a=this;return b("React").jsx("div",{className:"iyyx5f41 bipmatt0",ref:function(b){return a.$4=b},children:this.props.shouldMount&&this.props.children})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("StoriesPauseOnHoverContainer.react",["React","StoriesActionsContext","StoriesPauseReasons","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useContext;function a(a){a=a.children;var c=g(b("StoriesActionsContext"));c=c.actions;var d=c.setPause;return b("React").jsx("div",{className:"k4urcfbm datstx6m",onMouseEnter:function(){d(!0,b("StoriesPauseReasons").HOVER_ON_PAUSE_OVERLAY)},onMouseLeave:function(){d(!1,b("StoriesPauseReasons").HOVER_ON_PAUSE_OVERLAY)},children:a})}e.exports=a}),null);
__d("ImageCrossFade.react",["CometBackgroundImage.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={IDLE:"IDLE",ON:"on"},h=1e3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={animateState:g.IDLE,fadeIn:c.props.src,fadeOut:c.props.src,opacity:1},c.rAF=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidUpdate=function(){__p&&__p();var a=this,b=this.state.fadeIn,c=this.props.src,d=c!==b;if(this.props.wait===!0)return;if(d)this.setState(function(a){return babelHelpers["extends"]({},a,{animateState:g.IDLE,fadeIn:c,fadeOut:b,opacity:.99})});else if(this.state.animateState===g.IDLE){d=new Image();d.onload=function(){a.$1()};d.src=this.props.src}};d.$1=function(){var a=this;window.setTimeout(function(){return a.setState(function(a){return babelHelpers["extends"]({},a,{animateState:g.ON,opacity:0})})},20)};d.render=function(){var a=this.props.duration!=null?this.props.duration:h;a=this.state.animateState===g.IDLE?{transition:"none"}:{transition:"opacity "+a+"ms ease",transitionTimingFunction:"cubic-bezier(.08,.52,.52,1)"};a=babelHelpers["extends"]({opacity:this.state.opacity},a);return b("React").jsxs("div",{className:"k4urcfbm l9j0dhe7 datstx6m",children:[this.state.fadeIn!=null&&b("React").jsx("div",{className:"kr520xx4 n7fi1qx3 pmk7jnqg j9ispegn i09qtzwb",children:b("React").jsx(b("CometBackgroundImage.react"),{src:this.state.fadeIn})}),this.state.fadeOut!=null&&b("React").jsx("div",{className:"kr520xx4 n7fi1qx3 pmk7jnqg j9ispegn i09qtzwb",style:a,children:b("React").jsx(b("CometBackgroundImage.react"),{src:this.state.fadeOut})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("StoriesRelayData",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("relay-runtime").getFragment,h=b("relay-runtime").getSingularSelector;a=function(){__p&&__p();function a(a){var b=this,c=a.fragment;a=a.relayContext;this.isInitialized=!1;this.$1=null;this.$2=null;this.$5=function(a){(a==null?void 0:a.isMissingData)||(b.$1=a==null?void 0:a.data)};this.$4=c;this.$3=a}var b=a.prototype;b.updateFragmentRef=function(a){__p&&__p();this.$2!=null&&this.$2.dispose();var b=this.$3,c=this.$4;if(b!=null&&a!=null){b=b.environment;c=g(c);c=h(c,a);a=c?b.lookup(c):null;a!==null&&(this.$5(a),this.$2=b.subscribe(a,this.$5))}else this.$1=null};b.getData=function(){return this.$1};return a}();e.exports=a}),null);
__d("createStoriesDispatch",[],(function(a,b,c,d,e,f){"use strict";a={BUCKET_ID_CHANGED:"orange",BUCKET_IDX_CHANGED:"red",CARD_ID_CHANGED:"green",CARD_IDX_CHANGED:"olive",SET_PAUSE:"magenta",SET_REFETCHING:"blue"};b=function(a){return function(b){return a(b)}};e.exports=b;e.exports=b}),null);
__d("StoriesActions",["CometInteractionTracing","QuickPerformanceLogger","StoriesActions_selectedBucket.graphql","StoriesEnums","StoriesLoggingConstants","StoriesPauseReasons","StoriesRelay","StoriesRelayData","createStoriesDispatch","storiesUpdateSeenStateMutation","storiesUpdateStorySeenReceiptsLastSeenTimeMutation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("StoriesEnums").NAV_DIRECTIONS;b("StoriesRelay").graphql;(function(){return b("StoriesActions_selectedBucket.graphql")});var h={};a=function(){__p&&__p();function a(a,c,d,e,f){__p&&__p();var i=this;this.$1={bucketID:"",bucketIndex:-1,cardIndex:0,isLastBucket:!1};this.bucketIdChanged=function(a,b){i.$3({bucketID:a,isLastBucket:b,type:"BUCKET_ID_CHANGED"})};this.bucketIdxChanged=function(a,b,c){if(a===i.$1.bucketIndex)return;c!=null&&i.$2.storyNavigationLog(c);if(b==null){c=i.$1.bucketIndex;c=a>c?g.NEXT_BUCKET:g.PREV_BUCKET}else c=b;i.$3({bucketIndex:a,direction:c,type:"BUCKET_IDX_CHANGED"})};this.cardIdChanged=function(a){var c;h=h[b("StoriesPauseReasons").BUCKET_TRANSITION]?(c={},c[b("StoriesPauseReasons").BUCKET_TRANSITION]=!0,c):{};i.$3({cardID:a,type:"CARD_ID_CHANGED"})};this.cardIdxChanged=function(a,c){var d=i.$1.cardIndex,e=i.$6(d);d=i.$7(d);if(a<0&&d)return;e=!c||e&&c===b("StoriesLoggingConstants").NAVIGATION_GESTURE.TAP_FORWARD||d&&c===b("StoriesLoggingConstants").NAVIGATION_GESTURE.TAP_BACKWARD;!e&&c!=null&&i.$2.storyNavigationLog(c);i.$8(a)};this.currentCardDeleted=function(){var a;a=(a=i.$4.getData())==null?void 0:a.unified_stories;a=(a==null?void 0:a.count)||0;a=a===0?-1:i.$1.cardIndex;i.$8(a)};this.markCurrentCardAsSeen=function(a){__p&&__p();var c,d;if(i.$4.getData()==null)return;c=(c=i.$4.getData())==null?void 0:c.is_bucket_seen_by_viewer;if(c===!0)return;d=(d=i.$4.getData())==null?void 0:(d=d.unified_stories)==null?void 0:d.edges;d=d==null?[]:d.map(function(a){return a.node});if(d!=null){var e,f=i.$1.cardIndex;e=(e=d[f])==null?void 0:e.id;var g=d.length||0;g=f===g-1;if(e!=null&&e!==""&&i.$1.bucketID!=null){c=c!=null?c:g;d=c?(g=d[0])==null?void 0:g.id:(g=d[f+1])==null?void 0:g.id;b("storiesUpdateSeenStateMutation")(a,i.$1.bucketID,e,d,c)}}};this.setIsLastBucket=function(a){i.$3({isLastBucket:!0,type:"SET_IS_LAST_BUCKET"})};this.setPause=function(a,c){a?(h[c]=!0,i.$2.pauseLog(!0,c),i.$3({isPaused:!0,type:"SET_PAUSE"})):(c===b("StoriesPauseReasons").CLICK_PAUSE_ICON||c===b("StoriesPauseReasons").KEYBOARD?h={}:delete h[c],Object.keys(h).length===0&&(i.$3({isPaused:!1,type:"SET_PAUSE"}),i.$2.pauseLog(!1,c)))};this.setRefetching=function(a){__p&&__p();if(!a){var b,c,d;b=(b=i.$4.getData())==null?void 0:(b=b.unified_stories)==null?void 0:b.edges;b=b==null?[]:b.map(function(a){return a.node});if(b===null||b===void 0||b.length===0){i.$3({isRefetching:a,type:"SET_REFETCHING"});return}c=!!((c=i.$4.getData())==null?void 0:c.is_bucket_seen_by_viewer);var e=(d=i.$4.getData())==null?void 0:(d=d.first_story_to_show)==null?void 0:d.id;d=e===null||e===void 0;c||d?c=0:c=Math.max(0,b.findIndex(function(a){return(a==null?void 0:a.id)===e}));i.cardIdxChanged(c);b=(d=b[c])==null?void 0:d.id;b!=null&&i.cardIdChanged(b)}i.$3({isRefetching:a,type:"SET_REFETCHING"})};this.transitionBucket=function(a){var c=i.$9(a);if(c>=0){var d=a===g.NEXT_BUCKET?b("StoriesLoggingConstants").NAVIGATION_GESTURE.SWIPE_RIGHT:b("StoriesLoggingConstants").NAVIGATION_GESTURE.SWIPE_LEFT;i.bucketIdxChanged(c,a,d)}};this.transitionCard=function(a,c){var d=a===g.NEXT_CARD?1:-1,e=i.$1.cardIndex,f=e+d,h=(e=c)!=null?e:a===g.NEXT_CARD?b("StoriesLoggingConstants").NAVIGATION_GESTURE.TAP_FORWARD:b("StoriesLoggingConstants").NAVIGATION_GESTURE.TAP_BACKWARD;!i.$10(f)&&!i.$11(f)&&(b("QuickPerformanceLogger").markerEnd(13238356,4),b("QuickPerformanceLogger").markerStart(13238356));b("CometInteractionTracing").trace(30605321,function(a){i.cardIdxChanged(f,h)},"fluid","INTERACTION")};this.updateStorySeenReceiptsLastSeenTimeMutation=function(a,c){b("storiesUpdateStorySeenReceiptsLastSeenTimeMutation")(a,c)};this.$3=b("createStoriesDispatch")(a);this.$2=c;this.$4=new(b("StoriesRelayData"))({fragment:b("StoriesActions_selectedBucket.graphql"),relayContext:d});this.$4.updateFragmentRef(e);this.$5=f}var c=a.prototype;c.updateData=function(a){this.$1=a};c.updateFragmentRef=function(a){this.$4.updateFragmentRef(a)};c.$9=function(a){if(a===g.NEXT_BUCKET&&this.$1.isLastBucket)return-1;a=a===g.NEXT_BUCKET?1:-1;var b=this.$1.bucketIndex;b=b+a;return b};c.$10=function(a){var b;b=(b=this.$4.getData())==null?void 0:b.unified_stories;b=(b==null?void 0:b.count)||0;return a>=b};c.$11=function(a){return a<0};c.$7=function(a){return a<=0&&this.$1.bucketIndex===0};c.$6=function(a){var b;if(!this.$1.isLastBucket)return!1;b=(b=this.$4.getData())==null?void 0:b.unified_stories;b=(b==null?void 0:b.count)||0;return a>=b-1};c.$12=function(a){var c=this.$9(a);c>=0&&(b("QuickPerformanceLogger").annotateMarkerString(13238356,"TRANSITION_TYPE","BUCKET"),this.bucketIdxChanged(c,a))};c.$8=function(a){var c;c=(c=this.$4.getData())==null?void 0:c.unified_stories;c=c!=null?(c=c.edges[a])==null?void 0:(c=c.node)==null?void 0:c.id:null;this.$10(a)?this.$1.isLastBucket?this.$5(b("StoriesLoggingConstants").CLOSE_STORY_GESTURE.AUTO_EXIT):this.$12(g.NEXT_BUCKET):this.$11(a)?this.$12(g.PREV_BUCKET):c===null?this.$12(g.NEXT_BUCKET):(c!=null&&this.cardIdChanged(c),a!==this.$1.cardIndex&&this.$3({cardIndex:a,type:"CARD_IDX_CHANGED"}))};return a}();e.exports=a}),null);
__d("useStoriesActions",["React","StoriesActions","react-relay/ReactRelayContext","useStoriesViewerClose"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useContext,h=b("React").useMemo,i=b("React").useRef;function a(a,c,d,e){var f=g(b("react-relay/ReactRelayContext")),j=a.bucketIndex,k=a.bucketID,l=a.isLastBucket,m=a.cardIndex;a=b("useStoriesViewerClose")();c=new(b("StoriesActions"))(c,d,f,e,a);var n=i(c);h(function(){n.current.updateData({bucketID:k,bucketIndex:j,cardIndex:m,isLastBucket:l})},[n,k,j,m,l]);h(function(){n.current.updateFragmentRef(e)},[n,e]);return n.current}e.exports=a}),null);
__d("storiesViewerReducer",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a,b){switch(b.type){case"BUCKET_IDX_CHANGED":return babelHelpers["extends"]({},a,{bucketIndex:b.bucketIndex,direction:b.direction});case"BUCKET_ID_CHANGED":return babelHelpers["extends"]({},a,{bucketID:b.bucketID,cardID:"",isLastBucket:b.isLastBucket,isPaused:!1});case"CARD_ID_CHANGED":return babelHelpers["extends"]({},a,{cardID:b.cardID,isPaused:!1});case"CARD_IDX_CHANGED":return babelHelpers["extends"]({},a,{cardIndex:b.cardIndex});case"SET_IS_LAST_BUCKET":return babelHelpers["extends"]({},a,{isLastBucket:b.isLastBucket});case"SET_REFETCHING":return babelHelpers["extends"]({},a,{isRefetching:b.isRefetching});case"SET_PAUSE":return babelHelpers["extends"]({},a,{isPaused:b.isPaused});default:return a}}}),null);
__d("useStoriesReducer",["React","StoriesEnums","storiesViewerReducer"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useReducer,h=b("StoriesEnums").NAV_DIRECTIONS;a=function(a,c){a=g(b("storiesViewerReducer"),{bucketID:a.bucketID,bucketIndex:a.bucketID!==""?0:-1,cardID:a.cardID,cardIndex:c,direction:h.NEXT_BUCKET,isLastBucket:!1,isPaused:!1,isRefetching:!1});c=a[0];a=a[1];return[c,a]};e.exports=a}),null);
__d("withStoriesActions",["React","StoriesActionsContext"],(function(a,b,c,d,e,f){"use strict";function a(a){return function(c){return b("React").jsx(b("StoriesActionsContext").Consumer,{children:function(d){d=d.actions;return b("React").jsx(a,babelHelpers["extends"]({},c,{actions:d}))}})}}e.exports=a}),null);
__d("withStoriesContext",["React","StoriesViewerContext"],(function(a,b,c,d,e,f){"use strict";function a(a){return function(c){return b("React").jsx(b("StoriesViewerContext").Consumer,{children:function(d){return b("React").jsx(a,babelHelpers["extends"]({},c,d))}})}}e.exports=a}),null);
__d("StoriesEmptyBucketError.react",["ix","fbt","CometUnstyledButton.react","NullStateMedia","React","StoriesActionsContext","StoriesCloseButton.react","StoriesEnums","StoriesGating","TetraIcon.react","TetraNullState.react","TetraText.react","contuxConnect","fbicon","stylex","useOpenComposer"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("React").useContext,j=b("StoriesEnums").EMPTY_BUCKET_TYPES,k=b("StoriesEnums").NAV_DIRECTIONS,l=function(a){var c=a.isLastBucket;a=a.bucketIndex;var d=i(b("StoriesActionsContext")),e=d.actions;d=function(){};var f=null,j=null;c&&a>0?(d=function(){e.transitionBucket(k.PREV_BUCKET)},f=b("React").jsx(b("TetraIcon.react"),{color:"white",icon:b("fbicon")._(g("541301"),20),size:20}),j=h._("Previous story")):c||(d=function(){e.transitionBucket(k.NEXT_BUCKET)},f=b("React").jsx(b("TetraIcon.react"),{color:"white",icon:b("fbicon")._(g("541286"),20),size:20}),j=h._("Next Story"));return j===null?null:b("React").jsx(b("CometUnstyledButton.react"),{onClick:d,children:b("React").jsxs("div",{className:"e6erh6tl taijpn5t qypqp5cg j83agx80 enl131ya s1i5eluu bp9cbjyn",children:[f,b("React").jsx("div",{className:"h676nmdw j83agx80 bwm1u5wc",children:b("React").jsx(b("TetraText.react"),{color:"white",type:"headline4",children:j})})]})})},m=function(){var a,c=b("useOpenComposer")();return(a=b("React")).jsx(b("CometUnstyledButton.react"),{onClick:c,children:a.jsxs("div",{className:"e6erh6tl taijpn5t qypqp5cg j83agx80 enl131ya s1i5eluu bp9cbjyn",children:[a.jsx(b("TetraIcon.react"),{color:"white",icon:b("fbicon")._(g("481775"),20),size:20}),a.jsx("div",{className:"h676nmdw j83agx80 bwm1u5wc",children:a.jsx(b("TetraText.react"),{color:"white",type:"headline4",children:h._("Add to your story")})})]})})};a=function(a){var c=h._("This story is empty"),d=h._("Photos and videos shared in stories are only visible for 24 hours after they've been added"),e=null;switch(a.emptyBucketType){case j.FRIEND_BUCKET:e=b("React").jsx(l,{bucketIndex:a.bucketIndex,isLastBucket:a.isLastBucket});break;case j.SELF_BUCKET:b("StoriesGating").isAddToStoryEnabled()&&(e=b("React").jsx(m,{}));break}return(a=b("React")).jsxs("div",{className:"k4urcfbm ni8dbmo4 q10oee1b taijpn5t datstx6m cbu4d94t j83agx80 g6srhlxm bp9cbjyn",children:[a.jsx(b("StoriesCloseButton.react"),{dark:!0}),a.jsx("div",{className:"oh7imozk",children:a.jsx(b("TetraNullState.react"),{action:e,body:d,headline:c,icon:b("NullStateMedia")})})]})};e.exports=b("contuxConnect")(a,["isLastBucket","bucketIndex"])}),null);
__d("StoriesNavListItem.react",["BaseClickableListItem.react","React","StoriesActionsContext","StoriesLoggingConstants","StoriesNavListItemInfoContainer.react","StoriesNavListItemPog.react","StoriesRelay","StoriesNavListItem_bucket.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useContext,h=b("React").useRef,i=b("StoriesLoggingConstants").NAVIGATION_GESTURE.NAVIGATE_AWAY;c=b("StoriesRelay").createFragmentContainer;b("StoriesRelay").graphql;function a(a){var c=a.selected,d=a.bucket,e=a.index;a=g(b("StoriesActionsContext"));var f=a.actions,j=h();return!d?null:b("React").jsx("div",{"data-id":d.id,"data-testid":"nav_list_item",ref:function(a){return j.current=a},title:"",children:b("React").jsx(b("BaseClickableListItem.react"),{addon:b("React").jsx(b("StoriesNavListItemPog.react"),{bucket:d}),disabled:!1,onClick:function(){return f.bucketIdxChanged(e,null,i)},right:null,selected:c,children:b("React").jsx(b("StoriesNavListItemInfoContainer.react"),{bucket:d})})})}e.exports=c(a,{bucket:function(){return b("StoriesNavListItem_bucket.graphql")}})}),null);
__d("StoriesNavListYourStory.react",["fbt","requireCond","BaseClickableListItem.react","CometRingedImageIcon.react","CometUnstyledButton.react","FBLogger","React","StoriesGating","StoriesNavListAddStoryPlusIcon.react","StoriesNavListAddToStoryPanel.react","StoriesNavListItemInfo.react","StoriesNavListItemInfoContainer.react","StoriesNavListItemPog.react","StoriesRelay","WebPixelRatio","relay-runtime","cr:809609","useOpenComposer","StoriesNavListYourStoryRefetchQuery.graphql","StoriesNavListYourStory_userBucket.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("StoriesRelay").createFragmentContainer;b("StoriesRelay").graphql;var h=b("relay-runtime").fetchQuery,i=function(){return b("StoriesNavListYourStoryRefetchQuery.graphql")};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isPostingFirstNewStory:!1,isPostingNewStory:!1},d.$6=function(){d.$2&&(d.$2(),delete d.$2)},d.$7=function(a){var b=a.type==="press";b||(a.preventDefault(),a.stopPropagation());d.props.onClick()},d.$8=function(a){a&&b("FBLogger")("fbstories").warn("User bucket fetch failed: %s",a.toString()),d.setState({isPostingNewStory:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.props.userBucket==null?this.$3():this.$4()};d.componentDidUpdate=function(a){a.userBucket==null&&this.props.userBucket!=null&&this.$4()};d.componentWillUnmount=function(){this.$1&&(this.$1(),delete this.$1)};d.$4=function(){var a=this;b("cr:809609")&&(this.$1=b("cr:809609")({onPostStarted:function(){a.setState({isPostingNewStory:!0})},onPostSucceeded:function(){window.setTimeout(function(){return a.$5()},2e3)}}))};d.$3=function(){var a=this;b("cr:809609")&&(this.$2=b("cr:809609")({onPostStarted:function(){a.setState({isPostingFirstNewStory:!0})},onPostSucceeded:function(){a.props.refetchConnectionForFirstPost(a.$6)}}))};d.$5=function(){var a,c=this.props.relay;a=(a=this.props.userBucket)==null?void 0:a.id;h(c.environment,i,{bucketID:a,scale:b("WebPixelRatio").get()})["finally"](this.$8)};d.$9=function(){var a=this.state.isPostingFirstNewStory;if(a){a=this.props;var c=a.profilePicUri;a=a.userName;return c!=null?b("React").jsx(b("BaseClickableListItem.react"),{addon:b("React").jsx(b("CometRingedImageIcon.react"),{ringColor:"blue-spinning",size:60,src:c}),disabled:!1,onClick:function(){},right:null,selected:!1,children:b("React").jsx(b("StoriesNavListItemInfo.react"),{name:a})}):null}return b("React").jsx(b("StoriesNavListAddToStoryPanel.react"),{})};d.$10=function(){var a=this.state.isPostingNewStory,c=this.props,d=c.isUserBucketEmpty,e=c.userBucket;c=c.selected;var f=b("StoriesGating").isTest();return!d||a?b("React").jsx("div",{"data-id":f?e==null?void 0:e.id:null,"data-testid":"nav_list_item",children:b("React").jsx(b("BaseClickableListItem.react"),{addon:b("React").jsx(b("StoriesNavListItemPog.react"),{bucket:e,isUploading:a}),disabled:!1,onClick:this.$7,right:!a&&b("React").jsx(j,{isSelected:c}),selected:c,children:b("React").jsx(b("StoriesNavListItemInfoContainer.react"),{bucket:e})})}):b("React").jsx(b("StoriesNavListAddToStoryPanel.react"),{})};d.render=function(){var a=this.props.userBucket==null;return a?this.$9():this.$10()};return c}(b("React").PureComponent);var j=function(a){var c=b("useOpenComposer")();return!b("StoriesGating").isAddToStoryEnabled()?null:b("React").jsx(b("CometUnstyledButton.react"),{label:g._("Add to story"),onClick:c,children:b("React").jsx(b("StoriesNavListAddStoryPlusIcon.react"),{isSelected:a.isSelected})})};e.exports=a(c,{userBucket:function(){return b("StoriesNavListYourStory_userBucket.graphql")}})}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("memoize-one-4.0.3",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={};var g={exports:a};function h(){__p&&__p();var a=function(a,b){return a===b};function b(b,c){__p&&__p();c===void 0&&(c=a);var d,e=[],f,g=!1,h=function(b,a){return c(b,e[a])},i=function(){for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];if(g&&d===this&&c.length===e.length&&c.every(h))return f;f=b.apply(this,c);g=!0;d=this;e=c;return f};return i}g.exports=b}var i=!1,j=function(){i||(i=!0,h());return g.exports};b=function(a){switch(a){case void 0:return j()}};e.exports=b}),null);
__d("memoize-one",["memoize-one-4.0.3"],(function(a,b,c,d,e,f){e.exports=b("memoize-one-4.0.3")()}),null);
__d("StoriesNavList.react",["fbt","Promise","CometInfiniteScrollTrigger.react","CometInteractionTracing","CometList_DEPRECATED.react","CometListSection.react","CometScrollableArea.react","FBLogger","QuickPerformanceLogger","React","StoriesActorContext","StoriesCometListItemGlimmer.react","StoriesConstants","StoriesGating","StoriesLoggingConstants","StoriesNavListHeaderButtons.react","StoriesNavListItem.react","StoriesNavListYourStory.react","StoriesPauseOnHoverContainer.react","StoriesRelay","cometTestID","memoize-one","stylex","withStoriesActions","withStoriesContext","StoriesNavListPaginationQuery.graphql","StoriesNavList_buckets.graphql","StoriesNavList_initialBucket.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("StoriesLoggingConstants").NAVIGATION_GESTURE.NAVIGATE_AWAY;a=b("StoriesRelay").createPaginationContainer;b("StoriesRelay").graphql;var i=b("StoriesConstants").NavList.COUNT_PER_PAGINATION_FETCH,j=1;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(d=e=a.call.apply(a,[this].concat(g))||this,e.$7=!1,e.$9=0,e.$10=e.$11(),e.$12=(c=e.props.initialBucket)==null?void 0:c.id,e.$13=function(a){e.props.relay.refetchConnection(i,function(b){a&&a(b)},{bucketsCount:i})},e.$14=function(){return new(b("Promise"))(function(a,b){e.$13(function(c){return c!==void 0?b():a()})})},e.$15=function(a){__p&&__p();if(a==null)return[];var b=[],c=!0;if(e.$10){var d;b.push(a[0].node);c=((d=a[0])==null?void 0:(d=d.node)==null?void 0:d.id)!==e.$12}d=!e.$16(e.props.initialBucket);d&&c&&b.push(e.props.initialBucket);return a.reduce(function(a,b,c){if(e.$10&&c===0||(b==null?void 0:(c=b.node)==null?void 0:c.id)===e.$12||e.$16(b.node)||e.$17(b))return a;a.push(b==null?void 0:b.node);return a},b)},e.$18=b("memoize-one")(e.$15),e.$22=function(){if(e.$7)return;e.props.isRefetching?e.$7=!0:e.$8()},e.$25=function(a){a&&(b("FBLogger")("fbstories").warn("Pagination fetch failed: %s",a.toString()),b("QuickPerformanceLogger").markerEnd(13238355,3)),b("QuickPerformanceLogger").markerEnd(13238355,2),e.$7=!1,e.$19()===e.$9&&e.$21()},d)||babelHelpers.assertThisInitialized(e)}var d=c.prototype;d.componentDidMount=function(){var a=this,c=this.$3().findIndex(function(b){return(b==null?void 0:b.id)===a.props.bucketID});(c===-1||c>=2)&&this.props.bucketID!==""&&this.props.bucketID!=null&&b("FBLogger")("fbstories").warn("Initial bucket ID [%s] was found at index [%s]",this.props.bucketID,c);var d=this.props.bucketIndex;c>=0&&c!==this.props.bucketIndex&&(d=this.$4(c),this.props.actions.bucketIdxChanged(d));this.$5(d)&&this.props.actions.setIsLastBucket(!0)};d.componentDidUpdate=function(a){(a.bucketIndex!==this.props.bucketIndex||a.buckets!==this.props.buckets)&&this.$6(),this.$7&&a.isRefetching&&!this.props.isRefetching&&this.$8()};d.componentWillUnmount=function(){this.$2&&(this.$2(),delete this.$2)};d.$17=function(a){a=a==null?void 0:(a=a.node)==null?void 0:(a=a.unified_stories)==null?void 0:a.edges;if(a==null)return!1;a=a.map(function(a){return a==null?void 0:a.node});return a!=null?a.some(function(a){return(a==null?void 0:(a=a.story_card_info)==null?void 0:a.story_card_type)==="LIVE_STORY"}):!1};d.$16=function(a){__p&&__p();var b;if((a==null?void 0:(b=a.unified_stories)==null?void 0:b.count)==null||(a==null?void 0:(b=a.unified_stories)==null?void 0:b.count)===0)return!0;a=a==null?void 0:(b=a.unified_stories)==null?void 0:b.edges;if(a==null)return!1;b=a.map(function(a){return a==null?void 0:a.node});var c=Date.now()/1e3;if(b!=null){a=b.some(function(a){a=a==null?void 0:a.expiration_time;return a==null||a>c});return!a}return!0};d.$3=function(){var a;return this.$18((a=this.props.buckets)==null?void 0:(a=a.unified_stories_buckets)==null?void 0:a.edges)};d.$6=function(){this.$19()===this.$20()&&this.props.relay.hasMore()?(this.$9=this.$20(),this.$1!=null&&this.$1.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}),this.$21(null),this.props.actions.bucketIdChanged(null,!0)):(this.$19()===this.$20()-1&&this.props.relay.hasMore()&&this.$22(),this.$21())};d.$21=function(a){var c=this;if(this.props.bucketIndex===-1)return;var d=a!==void 0?a:(a=this.$23(this.$19()))==null?void 0:a.id;d!==this.props.bucketID&&(b("QuickPerformanceLogger").markerEnd(13238354,4),b("QuickPerformanceLogger").markerStart(13238354),b("CometInteractionTracing").trace(30605320,function(a){c.props.actions.bucketIdChanged(d,c.$24())},"fluid","INTERACTION"))};d.$8=function(){var a=this,c=this.props.relay;if(!c.hasMore()||c.isLoading())return;b("QuickPerformanceLogger").markerStart(13238355);b("CometInteractionTracing").trace(30605322,function(b){c.loadMore(i,a.$25)},"fluid","TAIL_LOAD")};d.$26=function(){return this.$10?this.$3().slice(1):this.$3()};d.$27=function(){var a=this;return this.$26().map(function(c,d){d=a.$4(d+1);return b("React").jsx(b("StoriesNavListItem.react"),{bucket:c,index:d,selected:a.props.bucketIndex===d},c==null?void 0:c.id)})};d.$23=function(a){a=this.$3()[a];return a!=null?a:null};d.$20=function(){return this.$3().length};d.$19=function(){return this.$28(this.props.bucketIndex)};d.$11=function(){var a;a=(a=this.props.buckets)==null?void 0:(a=a.unified_stories_buckets)==null?void 0:a.edges;if(a!=null&&a.length>0){a=(a=a[0].node)==null?void 0:(a=a.story_bucket_owner)==null?void 0:a.id;return a!=null?a===this.context.actorID:!1}return!1};d.$28=function(a){return!this.$10||this.$29()?a:a+1};d.$4=function(a){return this.$29()?a:a-1};d.$29=function(){if(!this.$10)return!1;var a=this.$3();a=a==null?void 0:a[0];return!this.$16(a)};d.$30=function(){return this.$26().length===0};d.$24=function(){return this.$5(this.props.bucketIndex)};d.$5=function(a){a=this.$28(a)>=this.$20()-1;return a&&!this.props.relay.hasMore()};d.render=function(){var a=this,c=this.props.isLoading,d=this.props.relay.hasMore,e=this.$10?this.$23(0):null,f=!this.$29();return b("React").jsx(b("StoriesPauseOnHoverContainer.react"),{children:b("React").jsx("div",babelHelpers["extends"]({},b("cometTestID")("nav_list"),{children:b("React").jsx(b("CometScrollableArea.react"),{children:b("React").jsx("div",{className:"eg9m0zos d76ob5m9",children:b("React").jsx(b("CometList_DEPRECATED.react"),{auxiliary:b("React").jsx(b("StoriesNavListHeaderButtons.react"),{refreshNavList:this.$14}),heading:g._("Stories"),children:c?b("React").jsx(b("StoriesCometListItemGlimmer.react"),{isFriends:!0,numberOfItems:6}):b("React").jsxs(b("React").Fragment,{children:[(!f||b("StoriesGating").isAddToStoryEnabled())&&b("React").jsx(b("CometListSection.react"),{heading:g._("Your story"),children:b("React").jsx(b("StoriesNavListYourStory.react"),{isUserBucketEmpty:f,onClick:function(){return a.props.actions.bucketIdxChanged(0,null,h)},profilePicUri:(f=this.props.buckets)==null?void 0:(f=f.profile_picture)==null?void 0:f.uri,refetchConnectionForFirstPost:this.$13,selected:this.props.bucketIndex===0,userBucket:e,userName:(f=this.props.buckets)==null?void 0:f.name})},"yourStory"),!this.$30()&&b("React").jsx(b("CometListSection.react"),{heading:g._("All stories"),children:this.$27()},"allStories"),b("React").jsx(b("CometInfiniteScrollTrigger.react"),{hasMore:d(),isLoading:c,onLoadMore:this.$22,children:b("React").jsx("div",{ref:function(b){return a.$1=b},children:b("React").jsx(b("StoriesCometListItemGlimmer.react"),{isFriends:!0,numberOfItems:2})})},j++)]})})})})}))})};return c}(b("React").PureComponent);c.contextType=b("StoriesActorContext");d={direction:"forward",getConnectionFromProps:function(a){return a.buckets&&a.buckets.unified_stories_buckets},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b,c){a=b.count;b=b.cursor;return{bucketsCount:a,cursor:b,scale:c.scale}},query:function(){return b("StoriesNavListPaginationQuery.graphql")}};e.exports=b("withStoriesContext")(b("withStoriesActions")(a(c,{buckets:function(){return b("StoriesNavList_buckets.graphql")},initialBucket:function(){return b("StoriesNavList_initialBucket.graphql")}},d)))}),null);
__d("StoriesNavigationButtons.react",["React","StoriesActionsContext","StoriesEnums","StoriesNavigationButton.react","contuxConnect","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useContext,h=b("StoriesEnums").NAV_DIRECTIONS;function a(a){__p&&__p();var c=a.isLastBucket;c=c===void 0?!1:c;var d=a.bucketIndex,e=a.isFirstCard,f=a.isLastCard;a=a.children;var i=g(b("StoriesActionsContext")),j=i.actions;i=function(){window.requestAnimationFrame(function(){j.transitionCard(h.NEXT_CARD)})};var k=function(){window.requestAnimationFrame(function(){j.transitionCard(h.PREV_CARD)})};d=d===0;return b("React").jsxs("div",{className:"taijpn5t datstx6m j83agx80 bp9cbjyn",children:[b("React").jsx(b("StoriesNavigationButton.react"),{direction:e?h.PREV_BUCKET:h.PREV_CARD,disabled:d&&e,onClick:k},"prev"),a,b("React").jsx(b("StoriesNavigationButton.react"),{direction:f?h.NEXT_BUCKET:h.NEXT_CARD,disabled:c&&f,onClick:i},"next")]})}e.exports=b("contuxConnect")(a,["bucketIndex","isLastBucket"])}),null);
__d("StoriesViewerSheetPreviewTray.react",["React","StoriesActionsContext","StoriesLoggingConstants","StoriesViewerContext","StoriesViewerSheetContext","StoriesViewerSheetPreviewAddStory.react","StoriesViewerSheetSection.react","StoriesViewerSheetStoryPreview.react","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useContext,h=132,i=99,j=1.15152,k=12;function a(){__p&&__p();var a=g(b("StoriesViewerContext")),c=a.cardIndex;a=g(b("StoriesActionsContext"));var d=a.actions;a=g(b("StoriesViewerSheetContext"));var e=a.canAddToStory;a=a.storiesPreviewUriList;var f=function(a,c){if(a)return;d.cardIdxChanged(c,b("StoriesLoggingConstants").NAVIGATION_GESTURE.VIEWER_SHEET)},l=c;l=l>1?-(l-1)*(i+k):0;return b("React").jsx(b("StoriesViewerSheetSection.react"),{children:b("React").jsxs("div",{className:"ejg0drik heur4gxb flx89l3n dpja2al7 l9j0dhe7 tw6a2znq jbae33se d1544ag0 bjjx79mm py5xhhw8 j83agx80 bp9cbjyn",style:{transform:"translateX("+l+"px)"},children:[a.map(function(a,d){if(a==null)return null;var e=d===c;return b("React").jsx("div",{className:"tvfksri0",children:b("React").jsx(b("StoriesViewerSheetStoryPreview.react"),{activeScale:j,height:h,index:d,isActive:e,onClick:f,previewImageURI:a,width:i})},d)}),e&&b("React").jsx("div",{className:"tvfksri0",children:b("React").jsx(b("StoriesViewerSheetPreviewAddStory.react"),{height:h,width:i})})]})})}e.exports=a}),null);
__d("StoriesViewerSheetPageStoryContent.react",["fbt","React","StoriesEnums","StoriesRelay","StoriesViewerSheetAttributionInfo.react","StoriesViewerSheetHeader.react","StoriesViewerSheetInsights.react","StoriesViewerSheetInsightsNullState.react","StoriesViewerSheetPollResult.react","StoriesViewerSheetPreviewTray.react","stylex","StoriesViewerSheetPageStoryContent_card.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("StoriesEnums").STORY_OVERLAY_TYPES;a=b("StoriesRelay").createFragmentContainer;b("StoriesRelay").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a,c,d=this.props.card;a=d==null?void 0:(a=d.story_card_seen_state)==null?void 0:(a=a.totalSeenCount)==null?void 0:a.count;c=(c=d==null?void 0:d.story_overlays)!=null?c:[];c=c.find(function(a){return a.__typename===h.POLL_STICKER});var e=b("React").jsx(b("StoriesViewerSheetHeader.react"),{children:g._("Insights")});if(a==null||a===0){return(a=b("React")).jsxs("div",{className:"k4urcfbm e9vueds3",children:[e,a.jsx(b("StoriesViewerSheetPreviewTray.react"),{}),a.jsx(b("StoriesViewerSheetAttributionInfo.react"),{card:d}),a.jsx(b("StoriesViewerSheetInsightsNullState.react"),{})]})}return b("React").jsxs("div",{className:"k4urcfbm e9vueds3",children:[e,b("React").jsx(b("StoriesViewerSheetPreviewTray.react"),{}),b("React").jsx(b("StoriesViewerSheetAttributionInfo.react"),{card:d}),b("React").jsx(b("StoriesViewerSheetInsights.react"),{card:d}),b("React").jsx(b("StoriesViewerSheetPollResult.react"),{overlayPoll:c,showVoterList:!1})]})};return c}(b("React").PureComponent);e.exports=a(c,{card:function(){return b("StoriesViewerSheetPageStoryContent_card.graphql")}})}),null);
__d("StoriesViewerSheetViewerList.react",["React","StoriesActionsContext","StoriesRelay","StoriesViewerSheetSection.react","StoriesViewerSheetViewerListContent.react","StoriesViewerSheetViewerListHeader.react","contuxConnect","usePrevious","StoriesViewerSheetViewerList_viewerList.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useContext,h=b("React").useEffect;c=b("StoriesRelay").createFragmentContainer;b("StoriesRelay").graphql;var i=b("StoriesRelay").useRelayEnvironment;function a(a){var c=a.cardID;a=a.viewerList;var d=i(),e=g(b("StoriesActionsContext")),f=e.actions,j=b("usePrevious")(c);h(function(){j!==c&&c!==""&&(j!==""&&j!=null&&f.updateStorySeenReceiptsLastSeenTimeMutation(d,j));return function(){c!==""&&f.updateStorySeenReceiptsLastSeenTimeMutation(d,c)}});return b("React").jsxs(b("StoriesViewerSheetSection.react"),{showSectionLine:!1,children:[b("React").jsx(b("StoriesViewerSheetViewerListHeader.react"),{cardSeenState:a}),b("React").jsx(b("StoriesViewerSheetViewerListContent.react"),{cardID:c,setPause:f.setPause,viewerList:a})]})}e.exports=c(b("contuxConnect")(a,["cardID"]),{viewerList:function(){return b("StoriesViewerSheetViewerList_viewerList.graphql")}})}),null);
__d("StoriesViewerSheetSelfStoryContent.react",["React","StoriesEnums","StoriesRelay","StoriesViewerSheetHeader.react","StoriesViewerSheetPollResult.react","StoriesViewerSheetPreviewTray.react","StoriesViewerSheetViewerList.react","stylex","StoriesViewerSheetSelfStoryContent_card.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("StoriesEnums").STORY_OVERLAY_TYPES;a=b("StoriesRelay").createFragmentContainer;b("StoriesRelay").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props.card;a=(a=c==null?void 0:c.story_overlays)!=null?a:[];a=a.find(function(a){return a.__typename===g.POLL_STICKER});return b("React").jsxs("div",{className:"e9vueds3",children:[b("React").jsx(b("StoriesViewerSheetHeader.react"),{}),b("React").jsx(b("StoriesViewerSheetPreviewTray.react"),{}),b("React").jsx(b("StoriesViewerSheetPollResult.react"),{overlayPoll:a}),b("React").jsx(b("StoriesViewerSheetViewerList.react"),{viewerList:c})]})};return c}(b("React").PureComponent);e.exports=a(c,{card:function(){return b("StoriesViewerSheetSelfStoryContent_card.graphql")}})}),null);
__d("StoriesViewerSheet.react",["CometRouteRenderType","CometScrollableArea.react","React","StoriesLoggerContext","StoriesPauseOnHoverContainer.react","StoriesRelay","StoriesViewerSheetContext","StoriesViewerSheetPageStoryContent.react","StoriesViewerSheetSelfStoryContent.react","StoriesViewerSheetTypes","cometTestID","stylex","usePrevious","useStoriesBehaviorHelpers","useViewerSheetPreviewImageURIList","StoriesViewerSheet_bucket.graphql","StoriesViewerSheet_viewerSheet.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("CometRouteRenderType").useIsPushView,i=b("React").useContext,j=b("React").useEffect,k=b("React").useMemo;c=b("StoriesRelay").createFragmentContainer;b("StoriesRelay").graphql;var l={container:{height:"datstx6m"},root:{backgroundColor:"cwj9ozl2",height:"datstx6m",width:"k4urcfbm"},spaceForCometAppNavigation:{height:"ay7djpcl",marginBottom:"hvtqayv6"}};function a(a){__p&&__p();var c=a.bucket,d=a.cardID;a=a.viewerSheet;var e=i(b("StoriesLoggerContext")),f=e.logger,m=b("usePrevious")(d);e=b("useStoriesBehaviorHelpers")(c);var n=e.canAddToStory;e=e.whichViewerSheet;var o=h();j(function(){m!==d&&d!==""&&f.openViewerSheetLog()});var p=b("useViewerSheetPreviewImageURIList")(c);c=null;switch(e()){case b("StoriesViewerSheetTypes").PAGE_STORY_VIEWERSHEET:c=b("React").jsx(b("StoriesViewerSheetPageStoryContent.react"),{card:a,cardID:d});break;case b("StoriesViewerSheetTypes").SELF_STORY_VIEWERSHEET:c=b("React").jsx(b("StoriesViewerSheetSelfStoryContent.react"),{card:a,cardID:d});break}e=k(function(){return{canAddToStory:n(),storiesPreviewUriList:p}},[n,p]);return(a=b("React")).jsx(b("StoriesPauseOnHoverContainer.react"),{children:a.jsx(b("StoriesViewerSheetContext").Provider,{value:e,children:a.jsx("div",babelHelpers["extends"]({className:(g||(g=b("stylex")))(l.root)},b("cometTestID")("viewer_sheet"),{children:b("React").jsxs(b("CometScrollableArea.react"),{horizontal:!1,vertical:!0,xstyle:l.container,children:[o?b("React").jsx("div",{className:(g||(g=b("stylex")))(l.spaceForCometAppNavigation)}):null,c]})}))})})}e.exports=c(a,{bucket:function(){return b("StoriesViewerSheet_bucket.graphql")},viewerSheet:function(){return b("StoriesViewerSheet_viewerSheet.graphql")}})}),null);
__d("legacy:CompactTypeaheadRenderer",["CompactTypeaheadRenderer"],(function(a,b,c,d,e,f){a.TypeaheadRenderers||(a.TypeaheadRenderers={}),a.TypeaheadRenderers.compact=b("CompactTypeaheadRenderer")}),3);